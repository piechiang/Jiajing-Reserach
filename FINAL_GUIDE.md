# 🎯 嘉靖实录数据获取 - 最终完整指南

## ✅ 已完成的工作

### 1. 从维基文库下载（已完成）
- ✅ 成功下载 **4卷** (卷1-4)
- ✅ 共 **164,958字**
- ✅ 时间范围：嘉靖元年正月至六月
- ✅ 文件位置：`jiajing_data/`

### 2. 从PDF提取（进行中）
- ✅ PDF文件已识别：`9.大明世宗钦天履道英毅圣神宣文广武洪仁大孝肃皇帝实录.pdf`
- ✅ 文件信息：88.4MB，6425页，566卷完整
- ✅ 测试提取成功
- 🔄 正在后台提取卷1-45（约800页）

---

## 📊 两种数据源对比

| 特征 | 维基文库 | PDF点校本 |
|------|---------|----------|
| **可用性** | ✅ 已下载 | ✅ 本地可用 |
| **完整度** | 4卷 (0.7%) | 566卷 (100%) |
| **字数** | ~165,000 | ~8,500,000 |
| **质量** | 基础文本 | 专业点校 |
| **覆盖范围** | 嘉靖元年1-6月 | 嘉靖全朝45年 |
| **推荐用途** | 初步测试 | 正式研究 ⭐ |

---

## 🛠️ 如何使用已下载的数据

### 方式1: 分析维基文库数据（4卷）

```bash
# 运行文本分析工具
py text_analysis.py
```

**功能**:
- 统计字数、段落数
- 提取核心人物提及次数
- 关键词频率分析
- 搜索特定人物/事件

**已知人物统计**（基于4卷）:
1. 嘉靖：83次
2. 世宗：45次
3. 杨一清：33次
4. 张璁：20次（大礼议支持派）
5. 杨廷和：13次（大礼议反对派）

### 方式2: 提取PDF数据（566卷）

#### 快速提取（推荐）
```bash
py simple_pdf_extract.py
```

**选项说明**:
- 选项1: 提取卷1 (第11-25页) - 快速测试
- 选项2: 提取卷1-4 (第11-70页) - 对应维基文库数据
- 选项3: 提取卷1-10 (第11-150页) - 扩展数据
- 选项4: 提取卷1-45 (第1-800页) - **大礼议完整数据** ⭐
- 选项5: 自定义页码范围

#### 当前正在运行
🔄 **后台任务**: 正在提取第1-800页（卷1-45）

检查进度:
```bash
# 查看提取的文件
dir jiajing_data_from_pdf
```

---

## 📁 数据文件结构

```
JiaJing/
├── jiajing_data/                    # 维基文库数据
│   ├── jiajing_shilu_vol1.txt      (43,654字)
│   ├── jiajing_shilu_vol2.txt      (43,380字)
│   ├── jiajing_shilu_vol3.txt      (40,756字)
│   ├── jiajing_shilu_vol4.txt      (37,168字)
│   ├── jiajing_shilu_vol1-45_complete.txt
│   ├── download_progress.json
│   └── analysis_report.json
│
└── jiajing_data_from_pdf/           # PDF提取数据
    ├── vol1.txt                     (26,314字) ✅
    ├── vol1-10.txt                  (134,162字) ✅
    └── complete_vol1-45.txt         (提取中...) 🔄
```

---

## 🎯 研究建议

### 阶段1: 使用维基文库数据（当前可用）

**适合研究主题**:
- ✅ 大礼议的**开端**分析
- ✅ 嘉靖元年前6个月的政治动态
- ✅ 张璁、杨廷和的初期立场
- ✅ 礼仪争议的起源

**限制**:
- ❌ 不包含大礼议高潮期（左顺门事件等）
- ❌ 不包含大礼议结果
- ❌ 数据量有限

### 阶段2: 使用PDF数据（推荐）

**等待PDF提取完成后**:
- ✅ 大礼议**完整过程**（卷1-45）
- ✅ 嘉靖元年-三年全部记录
- ✅ 约67.5万字数据
- ✅ 质量更高（点校本）

**可研究主题**:
- 大礼议全过程分析
- 党争人物关系网络
- 时间序列分析
- 皇帝决策模式
- 官员进退规律

---

## 📊 数据分析工具清单

| 工具文件 | 功能 | 使用场景 |
|---------|------|---------|
| `text_analysis.py` | 文本统计、人物分析 | 分析已下载数据 |
| `fixed_crawler.py` | 维基文库爬虫 | 下载更多维基数据 |
| `simple_pdf_extract.py` | PDF页面提取 | 从PDF获取数据 ⭐ |
| `quick_analysis.py` | 快速分析 | 查看基本统计 |

---

## 💡 推荐工作流程

### 新手入门
```
1. py text_analysis.py
   └→ 选择: 2 (分析所有已下载的卷)
   └→ 了解基本数据结构

2. 查看分析报告
   └→ 打开: jiajing_data/analysis_report.json

3. 等待PDF提取完成
   └→ 检查: jiajing_data_from_pdf/complete_vol1-45.txt
```

### 进阶研究
```
1. 提取完整PDF数据
   └→ py simple_pdf_extract.py
   └→ 选择: 4 (提取卷1-45)

2. 结合CBDB数据库
   └→ 下载: https://projects.iq.harvard.edu/cbdb/home
   └→ 提取嘉靖朝官员名单

3. 构建人物关系网络
   └→ 使用text_analysis.py提取人物共现
   └→ 使用NetworkX绘制关系图

4. 进行深度分析
   └→ 情感分析
   └→ 时间序列分析
   └→ 党争网络分析
```

---

## 🚀 立即可做的事情

### 1. 查看已下载数据
```bash
# 打开卷1
notepad jiajing_data\jiajing_shilu_vol1.txt
```

### 2. 运行文本分析
```bash
py text_analysis.py
```

### 3. 搜索特定人物
```bash
py text_analysis.py
# 选择: 4 (分析特定人物)
# 输入: 张璁  (或其他人名)
```

### 4. 等待PDF提取完成
```bash
# 检查文件是否生成
dir jiajing_data_from_pdf\complete_vol1-45.txt
```

---

## ⚠️ 注意事项

### PDF提取质量
- PDF是扫描版，文字识别可能有误
- 建议人工抽查关键段落
- 对比维基文库数据验证准确性

### 数据使用规范
- ✅ 仅用于学术研究
- ✅ 引用时注明数据来源
- ✅ 维基文库数据遵守CC BY-SA协议
- ✅ PDF数据遵守点校本版权规定

### 性能考虑
- PDF全文提取需要10-20分钟
- 大文件分析可能需要较多内存
- 建议按需提取，不要一次性处理全部566卷

---

## 📚 参考资料

### 已创建的文档
- `START_HERE.md` - 新手入门指南
- `QUICKSTART.md` - 快速上手教程
- `README.md` - 完整功能文档
- `PROJECT_OVERVIEW.md` - 项目架构说明
- `DOWNLOAD_SUCCESS.md` - 维基文库下载报告
- `PDF_DATA_SOURCE.md` - PDF数据源说明
- **`FINAL_GUIDE.md`** - 本文档（最终指南）⭐

### 外部资源
- [CBDB数据库](https://projects.iq.harvard.edu/cbdb/home)
- [CTEXT中国哲学书](https://ctext.org)
- [维基文库-明世宗实录](https://zh.wikisource.org/wiki/%E6%98%8E%E4%B8%96%E5%AE%97%E5%AF%A6%E9%8C%84)

---

## 🎓 研究主题建议

基于现有数据（4卷+PDF），可研究：

### 主题1: 大礼议开端研究
- 时间：嘉靖元年正月-六月
- 数据：维基文库4卷 ✅
- 关键人物：杨廷和、张璁、毛澄

### 主题2: 大礼议全过程
- 时间：嘉靖元年-三年
- 数据：PDF卷1-45 🔄 (提取中)
- 关键事件：左顺门事件、杨廷和罢官

### 主题3: 人物网络分析
- 结合CBDB数据库
- 提取同僚、师生、同乡关系
- 绘制关系图谱

### 主题4: 情感分析
- 训练古文情感模型
- 分析奏疏的情感倾向
- 识别支持/反对立场

---

## ✅ 检查清单

准备开始研究前，确认：

- [ ] 已安装Python 3.8+ ✅
- [ ] 已安装依赖库 (requests, beautifulsoup4, PyPDF2) ✅
- [ ] 已下载维基文库数据 (4卷) ✅
- [ ] 已识别PDF文件 ✅
- [ ] 已测试PDF提取 ✅
- [ ] 正在提取卷1-45 🔄
- [ ] 已运行text_analysis.py ✅
- [ ] 已阅读分析报告 ✅

---

## 🆘 常见问题

**Q: PDF提取需要多长时间？**
A: 800页约需5-10分钟，全部6425页约需20-30分钟

**Q: 提取的文本质量如何？**
A: 是扫描PDF，可能有识别错误，建议抽查验证

**Q: 如何检查PDF提取进度？**
A: 查看文件大小变化：`dir jiajing_data_from_pdf`

**Q: 能否提取完整566卷？**
A: 可以，使用选项5自定义页码，输入1-6425

**Q: 维基文库和PDF数据哪个更好？**
A: PDF数据更完整、质量更高，推荐用于正式研究

---

**开始您的嘉靖朝研究之旅吧！** 🎓📖✨

---

*最后更新：2026-01-02*
